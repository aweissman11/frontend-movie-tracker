(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(58)},32:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"checkUserList",function(){return _}),a.d(r,"createNewUser",function(){return F}),a.d(r,"addFavorite",function(){return T}),a.d(r,"removeFavorite",function(){return I});var n=a(0),i=a.n(n),s=a(21),o=a.n(s),c=(a(32),a(4)),l=a(5),u=a(8),p=a(6),m=a(9),f=a(61),d=a(2),h=a.n(d),g=a(3),v=a(12),b=a(43),y=a(7),E=function(e,t){return{type:"GET_USER_LOGGED_IN",user:{id:e,name:t}}},w=function(){return{type:"SET_FAVORITES",favorites:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},O=function(e){return{type:"SET_MOVIE_LIST",movies:e}},N=function(e){return{type:"SET_HAS_ERRORED",hasErrored:e}},S=function(e){return{type:"SET_IS_NOT_OK",notOk:e}},k=function(e){return{type:"IS_LOADING",isLoading:e}},j=function(e){return{type:"DEPLOY_FILTER_MODAL",status:e}},x=(a(39),function(){return i.a.createElement("div",{className:"logo","aria-label":"movie-tracker-logo"},i.a.createElement("h3",null,"MT"))}),_=(a(41),function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/users",a={method:"POST",body:JSON.stringify(t),credentials:"same-origin",headers:{"Content-Type":"application/json"}},e.next=4,fetch("/api/v1/users",a);case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),F=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/v1/users/new",r={method:"POST",body:JSON.stringify(t),credentials:"same-origin",headers:{"Content-Type":"application/json"}},console.log("new user url:",a),e.next=5,fetch(a,r);case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/v1/users/favorites/new",console.log("userDB addFavorite"),console.log("url:",a),console.log("data:",t),r={method:"POST",body:JSON.stringify(t),credentials:"same-origin",headers:{"Content-Type":"application/json"}},e.next=7,fetch(a,r);case 7:return n=e.sent,e.next=10,console.log("userDB response:",n.json());case 10:return e.next=12,n.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(h.a.mark(function e(t,a){var r,n,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/v1/users/".concat(t,"/favorites/").concat(a),n={method:"DELETE",body:JSON.stringify({user_id:t,movie_id:a}),credentials:"same-origin",headers:{"Content-Type":"application/json"}},e.next=4,fetch(r,n);case 4:return i=e.sent,e.next=7,i.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.removeWarning=function(){e.setState({loginError:""})},e.userWarning=function(){var t=Object(g.a)(h.a.mark(function t(a,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(v.a)({},a,r));case 2:return t.next=4,setTimeout(e.removeWarning,5e3);case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),e.submitLogin=function(){var t=Object(g.a)(h.a.mark(function t(a){var r,n,i,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state,n=r.email,i=r.password,t.prev=2,t.next=5,e.state.userDatabaseFetch.checkUserList({email:n,password:i});case 5:return s=t.sent,t.next=8,e.props.logUserIn(s.id,s.name);case 8:return t.abrupt("return");case 11:t.prev=11,t.t0=t.catch(2),e.userWarning("loginError","login-error-active");case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:"",loginError:"",userDatabaseFetch:r},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("form",{onSubmit:function(t){e.submitLogin(t)},className:"login-form ".concat(this.props.showLogin)},i.a.createElement("h1",null,i.a.createElement("span",null,"movie"),"Tracker"),i.a.createElement("h4",null,"for the love of film"),i.a.createElement("div",{className:"login-form-logo-wrapper"},i.a.createElement(x,null)),i.a.createElement("input",{className:"email-input",onChange:this.handleChange,value:this.state.email,name:"email",placeholder:"email","aria-label":"email-input"}),i.a.createElement("img",{src:"./email.png",alt:"mail",className:"email-icon"}),i.a.createElement("input",{className:"password-input",onChange:this.handleChange,type:"password",value:this.state.password,name:"password",placeholder:"password","aria-label":"password-input"}),i.a.createElement("img",{src:"./password.png",alt:"lock",className:"password-icon"}),i.a.createElement("input",{className:"login-submit",type:"submit",value:"login","aria-label":"login-submit-button"}),i.a.createElement("button",{onClick:function(t){t.preventDefault(),e.props.displaySignUp()},className:"sign-up-button",name:"sign-up-button","aria-label":"sign-up-button"},"signup"),i.a.createElement("section",{className:"login-social-wrapper"},i.a.createElement("i",{"aria-label":"facebook-link",className:"fab fa-facebook login-social"}),i.a.createElement("i",{"aria-label":"twitter-link",className:"fab fa-twitter login-social"})),i.a.createElement(b.a,{to:"/movies"},i.a.createElement("button",{"aria-label":"skip-login-button",className:"skip-login"},"skip login")),i.a.createElement("div",{className:"login-error-wrapper ".concat(this.state.loginError)},i.a.createElement("p",{className:"login-error-text"},"incorrect email/password combination")))}}]),t}(n.Component),L=Object(y.b)(function(e){return{user:e.user,showLogin:e.showLogin}},function(e){return{logUserIn:function(t,a){return e(E(t,a))},displaySignUp:function(){return e({type:"DISPLAY_SIGN_UP"})}}})(C),D=(a(45),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.userWarning=function(){var t=Object(g.a)(h.a.mark(function t(a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({signUpError:"sign-up-error-active",activeErrorText:a});case 2:return t.next=4,setTimeout(e.removeWarning,5e3);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.removeWarning=function(){e.setState({signUpError:""})},e.createNewUser=function(){var t=Object(g.a)(h.a.mark(function t(a){var r,n,i,s,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r=e.state,n=r.name,i=r.email,s=r.password,o=r.confirmPassword,n.length){t.next=5;break}return e.userWarning("please enter a name"),t.abrupt("return");case 5:if(i.length){t.next=8;break}return e.userWarning("please enter a valid email"),t.abrupt("return");case 8:if(!(s.length<3)){t.next=11;break}return e.userWarning("password must be at least 3 characters"),t.abrupt("return");case 11:if(s===o){t.next=16;break}return e.userWarning("passwords must match"),t.abrupt("return");case 16:e.props.clearError(),e.props.submitNewUser(n,i,s);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",email:"",password:"",confirmPassword:"",signUpError:"",userDatabaseFetch:r,activeErrorText:"email address already registered"},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?i.a.createElement(f.a,{exact:!0,path:"/release-date"}):i.a.createElement("form",{onSubmit:this.createNewUser,className:"sign-up-form ".concat(this.props.showSignup)},i.a.createElement("h1",null,i.a.createElement("span",null,"movie"),"Tracker"),i.a.createElement("h4",null,"for the love of film"),i.a.createElement("div",{className:"login-form-logo-wrapper"},i.a.createElement(x,null)),i.a.createElement("input",{"aria-label":"name-input",className:"name-input",onChange:this.handleChange,value:this.state.name,name:"name",placeholder:"name"}),i.a.createElement("img",{src:"./user.png",alt:"user",className:"user-icon"}),i.a.createElement("input",{"aria-label":"email-input",className:"email-input",onChange:this.handleChange,value:this.state.email,pattern:"^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$",title:"Enter a Valid Email Address",name:"email",placeholder:"email"}),i.a.createElement("img",{src:"./email.png",alt:"mail",className:"email-icon"}),i.a.createElement("input",{"aria-label":"password-input",className:"password-input",onChange:this.handleChange,type:"password",value:this.state.password,name:"password",placeholder:"password"}),i.a.createElement("img",{src:"./password.png",alt:"lock",className:"password-icon"}),i.a.createElement("img",{src:"./password.png",alt:"lock",className:"password-confirm-icon"}),i.a.createElement("input",{"aria-label":"confirm-password-input",className:"password-confirm-input",onChange:this.handleChange,type:"password",value:this.state.confirmPassword,name:"confirmPassword",placeholder:"confirm password"}),i.a.createElement("input",{"aria-label":"submit-new-user-info",className:"create-user-btn",type:"submit",value:"sign up"}),i.a.createElement(b.a,{className:"skip-sign-up",to:"/login"},i.a.createElement("button",{"aria-label":"back-to-login",className:"skip-sign-up-button",onClick:this.props.displayLogin},"already a user")),i.a.createElement("div",{className:"signup-error-wrapper ".concat(this.state.signUpError)},i.a.createElement("p",null,this.state.activeErrorText)),i.a.createElement("div",{className:"email-in-use-error ".concat(this.props.error)},i.a.createElement("p",null,"there is already an account linked to this email")))}}]),t}(n.Component)),A=Object(y.b)(function(e){return{user:e.user,showSignup:e.showSignup,error:e.hasErrored}},function(e){return{logUserIn:function(t,a){return e(E(t,a))},displayLogin:function(){return e({type:"DISPLAY_LOGIN"})},setIsLoading:function(t){return e(k(t))},submitNewUser:function(t,a,r){return e(function(e,t,a){return function(){var r=Object(g.a)(h.a.mark(function r(n){var i;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(k(!0)),r.prev=1,r.next=4,F({name:e,email:t,password:a});case 4:return(i=r.sent).error&&n(N(!0)),n(k(!1)),r.next=9,n(E(i.id,e));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n(N(!0));case 14:case"end":return r.stop()}},r,this,[[1,11]])}));return function(e){return r.apply(this,arguments)}}()}(t,a,r))},clearError:function(){return e(N(!1))}}})(D),U=(a(48),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.user.id?i.a.createElement(f.a,{to:"/movies"}):i.a.createElement("main",{className:"login-page","aria-label":"login-page"},i.a.createElement("div",{className:"right-side"}),i.a.createElement(x,null),i.a.createElement("section",{className:"login-signup-wrapper"},i.a.createElement(L,null),i.a.createElement(A,null)),i.a.createElement("footer",{className:"login-footer"},i.a.createElement("p",null,"about"),i.a.createElement("p",null,"terms"),i.a.createElement("p",null,"privacy")),i.a.createElement("footer",{className:"login-copyright","aria-label":"copyright"},i.a.createElement("p",null,"\xa9 2018 movieTracker")))}}]),t}(n.Component)),R=Object(y.b)(function(e){return{user:e.user}},null)(U),P=function(){var e=Object(g.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=6;break}return console.error(Error(a.statusText)),e.abrupt("return","failed");case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),M="db393102c6d38bb71fed129f3aaf36d8",G=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();return t<10&&(t="0"+t),a<10&&(a="0"+a),"".concat(a,"-").concat(t,"-").concat(r)},W=G(),Y="https://api.themoviedb.org/3/discover/movie?api_key=".concat(M,"&/movie?primary_release_date.lte=").concat(W,"&append_to_response=videos"),Q=function(){var e=Object(g.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=Object(g.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(M,"&language=en-US&append_to_response=release_date"),e.next=3,P(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/v1/users/".concat(t,"/favorites"),e.next=3,P(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){var a,r=G();a=t.length<1?"https://api.themoviedb.org/3/discover/movie?api_key=".concat(M,"&language=en-US?primary_release_date.lte=").concat(r,"&sort_by=popularity.desc"):"https://api.themoviedb.org/3/search/movie?api_key=".concat(M,"&language=en-US&query=").concat(t,"&page=1&include_adult=false");var n=e.genre,i=e.year,s=e.rating,o=e.sort;return n&&"GENRE"!==n&&(a+="&with_genres=".concat(n)),i&&"YEAR"!==i&&(a+="&primary_release_year=".concat(i)),s&&"RATING"!==s&&(a+="&certification_country=US&certification=".concat(s)),o&&"SORT"!==o&&(a+="&sort_by=".concat(o)),console.log(a),a},V=a(44),H=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).favorited="",e.callAddFavorite=function(){var t=Object(g.a)(h.a.mark(function t(a,r,n,i){var s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isFavorite:!0}),s=Object(V.a)(n).concat([e.formatFavorite(a.results,r,i)]),e.props.setFavorites(s),t.next=6,e.state.userDataBaseFetch.addFavorite(e.formatFavorite(a.results,r,i));case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({failed:!0}),setTimeout(e.clearFailedFav,5e3);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,a,r,n){return t.apply(this,arguments)}}(),e.clearFailedFav=function(){e.setState({failed:!1})},e.callRemoveFavorite=function(){var t=Object(g.a)(h.a.mark(function t(a,r,n){var i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.removeFavorite(a.id,r);case 2:return i=n.filter(function(e){return e.movie_id!==r}),e.props.setFavorites(i),t.next=6,e.setState({isFavorite:!1});case 6:case"end":return t.stop()}},t,this)}));return function(e,a,r){return t.apply(this,arguments)}}(),e.toggleFavorite=function(){var t=Object(g.a)(h.a.mark(function t(a){var r,n,i,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.movies,i=r.user,s=r.favorites,i.id){t.next=7;break}console.log("no user id"),e.setState({notLoggedIn:!0}),setTimeout(e.clearNotLoggedIn,5e3),t.next=14;break;case 7:if(s.find(function(e){return e.movie_id===a})){t.next=12;break}return t.next=10,e.callAddFavorite(n,i,s,a);case 10:t.next=14;break;case 12:return t.next=14,e.callRemoveFavorite(i,a,s);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.clearNotLoggedIn=function(){e.setState({notLoggedIn:!1})},e.removeFavorite=function(){var t=Object(g.a)(h.a.mark(function t(a,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.userDataBaseFetch.removeFavorite(a,r);case 2:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),e.getPosterPath=function(e){return e?"https://image.tmdb.org/t/p/w400_and_h600_bestv2".concat(e):(console.log("fake poster"),"http://www.beguilingbooksandart.com/wp-content/uploads/2015/01/at_marcy.png")},e.formatFavorite=function(t,a,r){var n=t.filter(function(e){return e.id===r})[0];return{movie_id:n.id,user_id:a.id,title:n.title,poster_path:e.getPosterPath(n.poster_path),release_date:n.release_date,vote_average:n.vote_average,overview:n.overview}},e.state={isFavorite:!1,userDataBaseFetch:r,fetchCall:P,failed:!1,notLoggedIn:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.favorites.find(function(t){return t.movie_id===e.props.movieId})?this.favorited="favorited":this.favorited="",i.a.createElement("div",{className:"button-component-wrapper","aria-label":"favorite-button"},i.a.createElement("p",{className:"not-logged-in-warning ".concat(this.state.notLoggedIn)},"you are not logged in"),i.a.createElement("button",{onClick:function(){return e.toggleFavorite(e.props.movieId)},className:"favorite-btn ".concat(this.favorited)}))}}]),t}(n.Component),q=Object(y.b)(function(e){return{movies:e.movies,user:e.user,favorites:e.favorites}},function(e){return{setFavorites:function(t){return e(w(t))}}})(H),Z=function(e){var t=e.release_date.split("").splice(0,4).join("");return i.a.createElement("div",{className:"single-movie-wrapper","aria-label":"single-movie-card"},i.a.createElement("div",{className:"favorite-btn-wrapper"},i.a.createElement(q,{movieId:e.id})),e.poster_path?i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w400_and_h600_bestv2".concat(e.poster_path),alt:e.title}):i.a.createElement("img",{src:"http://www.beguilingbooksandart.com/wp-content/uploads/2015/01/at_marcy.png",alt:e.title}),i.a.createElement("section",{className:"movie-poster-text","aria-label":"movie-info"},i.a.createElement("h2",null,e.title),i.a.createElement("h3",null,t)))},z=a(60),K=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).logOutUser=function(){a.props.logOut(),a.props.removeFavorites(),localStorage.removeItem("userInfo")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(z.a,{to:"/login"},this.props.user.id&&i.a.createElement("button",{onClick:function(){return e.logOutUser()},className:"login-logout-btn","aria-label":"logout"},"log out"),!this.props.user.id&&i.a.createElement("button",{className:"login-logout-btn","aria-label":"login"},"login"))}}]),t}(n.Component),$=Object(y.b)(function(e){return{user:e.user}},function(e){return{logOut:function(){return e({type:"LOG_USER_OUT"})},removeFavorites:function(){return e(w())}}})(K),X=(a(50),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmitSearch=function(t){t.preventDefault(),e.props.setSearchQuery(e.state.searchInput),e.props.setFetchedMovies(e.props.filters,e.state.searchInput)},e.state={searchInput:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("form",{className:"search-form","aria-label":"search-form",onSubmit:this.handleSubmitSearch},i.a.createElement("input",{"aria-label":"search-input",className:"search-input",value:this.state.searchInput,name:"searchInput",onChange:function(t){return e.handleChange(t)},placeholder:"search"}),i.a.createElement("input",{"aria-label":"submit-search",className:"search-submit",type:"submit",value:""}))}}]),t}(n.Component)),ee=Object(y.b)(function(e){return{filters:e.filters,searchQuery:e.searchQuery}},function(e){return{setFetchedMovies:function(t,a){return e((r=t,n=a,function(){var e=Object(g.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(!0)),e.prev=1,e.next=4,P(B(r,n));case 4:"failed"===(a=e.sent)&&t(S(!0)),t(k(!1)),t(O(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(N(!0));case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()));var r,n},setSearchQuery:function(t){return e({type:"UPDATE_QUERY",searchQuery:t})}}})(X),te=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],ae=[{certification:"G",meaning:"All ages admitted. There is no content that would be objectionable to most parents. This is one of only two ratings dating back to 1968 that still exists today.",order:1},{certification:"PG-13",meaning:"Some material may be inappropriate for children under 13. Films given this rating may contain sexual content, brief or partial nudity, some strong language and innuendo, humor, mature themes, political themes, terror and/or intense action violence. However, bloodshed is rarely present. This is the minimum rating at which drug content is present.",order:3},{certification:"R",meaning:"Under 17 requires accompanying parent or adult guardian 21 or older. The parent/guardian is required to stay with the child under 17 through the entire movie, even if the parent gives the child/teenager permission to see the film alone. These films may contain strong profanity, graphic sexuality, nudity, strong violence, horror, gore, and strong drug use. A movie rated R for profanity often has more severe or frequent language than the PG-13 rating would permit. An R-rated movie may have more blood, gore, drug use, nudity, or graphic sexuality than a PG-13 movie would admit.",order:4},{certification:"NC-17",meaning:"These films contain excessive graphic violence, intense or explicit sex, depraved, abhorrent behavior, explicit drug abuse, strong language, explicit nudity, or any other elements which, at present, most parents would consider too strong and therefore off-limits for viewing by their children and teens. NC-17 does not necessarily mean obscene or pornographic in the oft-accepted or legal meaning of those words.",order:5},{certification:"NR",meaning:"No rating information.",order:0},{certification:"PG",meaning:"Some material may not be suitable for children under 10. These films may contain some mild language, crude/suggestive humor, scary moments and/or violence. No drug content is present. There are a few exceptions to this rule. A few racial insults may also be heard.",order:2}],re=[{text:"most popular",value:"popularity.desc"},{text:"least popular",value:"popularity.asc"},{text:"recently released",value:"release_date.desc"},{text:"oldest",value:"release_date.asc"},{text:"highest grossing",value:"revenue.desc"},{text:"lowest grossing",value:"revenue.asc"},{text:"title A to Z",value:"original_title.desc"},{text:"title Z to A",value:"original_title.asc"}],ne=(a(52),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).getGenreOptions=function(){return te.map(function(t){return i.a.createElement("li",{value:t.id,key:t.id,onClick:function(t){e.handleSelect(t,"genre")}},t.name)})},e.getYearOptions=function(){for(var t=[],a=1;a<50;a++)t.push(2019-a);return t.map(function(t){return i.a.createElement("li",{key:t,onClick:function(t){e.handleSelect(t,"year")}},t)})},e.getRatingOptions=function(){return ae.map(function(t){return i.a.createElement("li",{key:t.certification,onClick:function(t){e.handleSelect(t,"rating")}},t.certification)})},e.getSortOptions=function(){return re.map(function(t){return i.a.createElement("li",{key:t.value,id:t.value,onClick:function(t){e.handleSelect(t,"sort")}},t.text)})},e.handleSelect=function(t,a){if(t.target.value&&"genre"===a)e.setState({genre:t.target.value,genreName:t.target.innerText,genreState:"",yearState:"",ratingState:"",sortState:""});else if("sort"===a)e.setState({sort:t.target.id,sortName:t.target.innerText,genreState:"",yearState:"",ratingState:"",sortState:""});else{var r;e.setState((r={},Object(v.a)(r,a,t.target.innerText),Object(v.a)(r,"genreState",""),Object(v.a)(r,"yearState",""),Object(v.a)(r,"ratingState",""),Object(v.a)(r,"sortState",""),r))}},e.handleSubmitFilters=function(t){t.preventDefault();var a={genre:e.state.genre,year:e.state.year,rating:e.state.rating,sort:e.state.sort};e.props.setFilters(a),e.props.setFetchedMovies(a,e.props.searchQuery),e.props.hideFilterModal(!1)},e.deployList=function(t){var a;t.target.id===e.state.selected?e.setState(Object(v.a)({selected:null},t.target.id,"")):e.setState((a={},Object(v.a)(a,e.state.selected,""),Object(v.a)(a,t.target.id,"deployed"),Object(v.a)(a,"selected",t.target.id),a))},e.clearFilters=Object(g.a)(h.a.mark(function t(){var a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={preventDefault:function(){}},t.next=3,e.setState({genre:null,genreName:null,year:null,rating:null,sort:null,sortName:null,genreState:"",yearState:"",ratingState:"",sortState:""});case 3:e.handleSubmitFilters(a);case 4:case"end":return t.stop()}},t,this)})),e.state={selected:null,genre:null,genreName:null,year:null,rating:null,sort:null,sortName:null,genreState:"",yearState:"",ratingState:"",sortState:"",mobileDisplay:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("aside",{className:"filters"},i.a.createElement("section",{className:"filters-desktop"},i.a.createElement("section",{className:"genre-filter","aria-label":"filter-by-genre-section"},i.a.createElement("h3",{className:"genre-slct",onClick:function(t){e.deployList(t)},id:"genreState","aria-label":"genre-select"},this.state.genreName||"genre"),i.a.createElement("ul",{className:"".concat(this.state.genreState," genre-list"),"aria-label":"genre-list"},this.getGenreOptions())),i.a.createElement("section",{className:"year-filter","aria-label":"filter-by-year-section"},i.a.createElement("h3",{className:"year-slct",onClick:function(t){e.deployList(t)},id:"yearState"},this.state.year||"year"),i.a.createElement("ul",{className:"".concat(this.state.yearState," year-list"),"aria-label":"year-list"},this.getYearOptions())),i.a.createElement("section",{className:"rating-filter","aria-label":"filter-by-rating-section"},i.a.createElement("h3",{className:"rating-slct",onClick:function(t){e.deployList(t)},id:"ratingState"},this.state.rating||"rating"),i.a.createElement("ul",{className:"".concat(this.state.ratingState," rating-list"),"aria-label":"rating-list"},this.getRatingOptions())),i.a.createElement("section",{className:"sort-filter","aria-label":"sort-by-category-section"},i.a.createElement("h3",{className:"sort-by-slct",onClick:function(t){e.deployList(t)},id:"sortState"},this.state.sortName||"sort-by"),i.a.createElement("ul",{className:"".concat(this.state.sortState," sort-list"),"aria-label":"sort-parameters"},this.getSortOptions())),i.a.createElement("button",{className:"filter-submit",onClick:this.handleSubmitFilters,"aria-label":"submit-filter"},"submit"),i.a.createElement("button",{className:"filter-clear",onClick:this.clearFilters,"aria-label":"clear-filters"},"clear")),i.a.createElement("section",{className:"filters-mobile"},i.a.createElement("h2",{className:"modal-filter-label"},"Filter movies by category"),i.a.createElement("div",{className:"close-modal-btn-wrapper",onClick:function(){e.props.hideFilterModal(!1)}},i.a.createElement("img",{className:"close-modal-btn",alt:"close-btn",src:"./cancel.png"})),i.a.createElement("section",{className:"genre-filter"},i.a.createElement("h3",{className:"genre-slct",onClick:function(t){e.deployList(t)},id:"genreState"},this.state.genreName||"genre"),i.a.createElement("ul",{className:"".concat(this.state.genreState," genre-list")},this.getGenreOptions())),i.a.createElement("section",{className:"year-filter"},i.a.createElement("h3",{className:"year-slct",onClick:function(t){e.deployList(t)},id:"yearState"},this.state.year||"year"),i.a.createElement("ul",{className:"".concat(this.state.yearState," year-list")},this.getYearOptions())),i.a.createElement("section",{className:"rating-filter"},i.a.createElement("h3",{className:"rating-slct",onClick:function(t){e.deployList(t)},id:"ratingState"},this.state.rating||"rating"),i.a.createElement("ul",{className:"".concat(this.state.ratingState," rating-list")},this.getRatingOptions())),i.a.createElement("section",{className:"sort-filter"},i.a.createElement("h3",{className:"sort-by-slct",onClick:function(t){e.deployList(t)},id:"sortState"},this.state.sortName||"sort-by"),i.a.createElement("ul",{className:"".concat(this.state.sortState," sort-list")},this.getSortOptions())),i.a.createElement("section",{className:"modal-buttons"},i.a.createElement("button",{className:"filter-submit",onClick:this.handleSubmitFilters},"submit"),i.a.createElement("button",{className:"filter-clear",onClick:this.clearFilters},"clear"))))}}]),t}(n.Component)),ie=Object(y.b)(function(e){return{filters:e.filters,searchQuery:e.searchQuery}},function(e){return{setFetchedMovies:function(t,a){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(g.a)(h.a.mark(function a(r){var n;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(k(!0)),a.prev=1,a.next=4,P(B(e,t));case 4:"failed"===(n=a.sent)&&r(S(!0)),r(k(!1)),r(O(n)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r(N(!0));case 13:case"end":return a.stop()}},a,this,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},setFilters:function(t){return e(function(e){return{type:"UPDATE_FILTERS",filters:e}}(t))},hideFilterModal:function(t){return e(j(t))}}})(ne),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).showFavorites=function(){var e=a.props.favorites.map(function(e){return e.movie_id});a.props.setFavorites(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{"aria-label":"show-favorites-button",onClick:this.showFavorites,className:"show-favorites"},"favorites")}}]),t}(n.Component),oe=Object(y.b)(function(e){return{favorites:e.favorites}},function(e){return{setFavorites:function(t){return e((a=t,function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(!0)),e.prev=1,e.next=4,Q(a);case 4:return"failed"===(r=e.sent)&&t(S(!0)),t(k(!1)),n={results:r},e.next=10,t(O(n));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(N(!0));case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()));var a}}})(se),ce=(a(54),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).getMovies=function(){return a.props.movies.results?a.props.movies.results.map(function(e){return i.a.createElement(Z,Object.assign({key:e.id},e))}):""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.setFetchedMovies(this.props.movies),localStorage.getItem("userInfo")){var e=JSON.parse(localStorage.getItem("userInfo"));this.props.logIn(e.user.id,e.user.name),this.props.setFavorites(e.user.id)}this.props.user.id&&(this.props.setFavorites(this.props.user.id),localStorage.setItem("userInfo",JSON.stringify({user:this.props.user})))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"movies-list","aria-label":"movie-scroll-section"},i.a.createElement("header",null,i.a.createElement("section",{className:"header-wrapper"},i.a.createElement("section",{className:"left-side-header-btns"},i.a.createElement($,null),i.a.createElement(oe,null),i.a.createElement("button",{className:"display-filter",onClick:function(){e.props.deployFilterModal(!0)},"aria-label":"display-filter-button"},"filter")),i.a.createElement("div",{className:"filter-wrapper ".concat(this.props.filterModalDeployed)},i.a.createElement(ie,null)),i.a.createElement(ee,null))),i.a.createElement("section",{className:"movies-wrapper ".concat(this.props.filterModalDeployed)},i.a.createElement("div",{className:"movies-stripe"}),this.getMovies()),i.a.createElement("footer",null,i.a.createElement("div",{className:"footer-wrap"},i.a.createElement("section",{className:"logo-footer-section"},i.a.createElement(x,null),i.a.createElement("h1",null,i.a.createElement("span",null,"movie"),"Tracker")),i.a.createElement("section",{className:"scroll-social-wrapper"},i.a.createElement("i",{"aria-label":"facebook-link",className:"fab fa-facebook scroll-social"}),i.a.createElement("i",{"aria-label":"instagram-link",className:"fab fa-instagram scroll-social"}),i.a.createElement("i",{"aria-label":"twitter-link",className:"fab fa-twitter scroll-social"})),i.a.createElement("h3",{"aria-label":"copyright",className:"footer-copyright"},"\xa9 2018 MovieTracker - All Rights Reserved"))))}}]),t}(n.Component)),le=Object(y.b)(function(e){return{movies:e.movies,user:e.user,favorites:e.favorites,notOk:e.notOk,hasErrored:e.hasErrored,isLoading:e.isLoading,filterModalDeployed:e.deployFilterModal}},function(e){return{setFetchedMovies:function(t){return e(function(){var e=Object(g.a)(h.a.mark(function e(t){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(!0)),e.prev=1,e.next=4,P(Y);case 4:"failed"===(a=e.sent)&&t(S(!0)),t(k(!1)),t(O(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(N(!0));case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}())},setFavorites:function(t){return e((a=t,function(){var e=Object(g.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(a);case 3:r=e.sent,t(w(r)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(N(!0));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()));var a},logIn:function(t,a){return e(E(t,a))},deployFilterModal:function(t){return e(j(t))}}})(ce),ue=(a(56),a(59)),pe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(ue.a,{exact:!0,path:"/",component:R}),i.a.createElement(ue.a,{exact:!0,path:"/login",component:R}),i.a.createElement(ue.a,{exact:!0,path:"/movies",render:function(){return i.a.createElement(le,{movies:e.props.movies})}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(62),fe=a(14),de=a(25),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_LIST":return t.movies;default:return e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_LOGGED_IN":return t.user;case"LOG_USER_OUT":return{name:null};default:return e}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signup-hide";switch((arguments.length>1?arguments[1]:void 0).type){case"DISPLAY_LOGIN":return"signup-hide";case"DISPLAY_SIGN_UP":return"signup-display";default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login_display";switch((arguments.length>1?arguments[1]:void 0).type){case"DISPLAY_LOGIN":return"login-display";case"DISPLAY_SIGN_UP":return"login-hide";default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITES":return t.favorites;default:return e}},Ee={genre:null,year:null,rating:null,sort:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTERS":return t.filters;default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUERY":return t.searchQuery;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HAS_ERRORED":return t.hasErrored;default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_NOT_OK":return t.notOk;default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return t.isLoading;default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEPLOY_FILTER_MODAL":return t.status;default:return e}},xe=Object(fe.combineReducers)({movies:he,user:ge,showLogin:be,showSignup:ve,favorites:ye,filters:we,searchQuery:Oe,hasErrored:Ne,notOk:Se,isLoading:ke,deployFilterModal:je}),_e=a(26),Fe=Object(fe.createStore)(xe,Object(_e.composeWithDevTools)(Object(fe.applyMiddleware)(de.a)));o.a.render(i.a.createElement(y.a,{store:Fe},i.a.createElement(me.a,null,i.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.db1a17b6.chunk.js.map